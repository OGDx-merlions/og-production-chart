{"version":3,"sources":["og-production-chart.es6.js"],"names":["Polymer","is","listeners","properties","labels","type","Array","value","unit","String","width","Number","height","legendLabels","legendDispVal","data","dateRange","Object","filteredData","computed","selected","_setLegend","me","forEach","_item","idx","legend","attached","rangeParse","d3","timeParse","_notifyAttached","fire","_isMultipleData","length","_isSingleData","_filterDates","Px","from","to","filtered","arr","_tmp","filter","_obj","date","getTime","push"],"mappings":"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","file":"og-production-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-production-chart',\n\n    listeners: {\n\n    },\n\n    properties: {\n      /**\n      * This property is a list of tab labels\n      *\n      * @property labels\n      */\n      labels: {\n        type: Array,\n        value() {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t\"All\", \"Train 1\", \"Train 2\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n      * Unit for Y-Axis values\n      *\n      * @property unit\n      */\n      unit: {\n        type: String,\n        value: \"Metric ton/day\"\n\t\t\t},\n\t\t\t/**\n      * Chart Width\n      *\n      * @property width\n      */\n      width: {\n        type: Number,\n        value: 960\n\t\t\t},\n\t\t\t/**\n      * Chart Height\n      *\n      * @property height\n      */\n      height: {\n        type: Number,\n        value: 300\n\t\t\t},\n\t\t\t/**\n      * The Actual, Target and design values to be displayed in the legend\n      *\n      * @property legendLabels\n      [\"Actual\", \"Target\", \"Forecast\", \"Design Capacity\"]\n      */\n\t\t\tlegendLabels: {\n\t\t\t\ttype: Array,\n        value() {\n\t\t\t\t\treturn [\"Actual\", \"Target\", \"Forecast\", \"Design Capacity\"];\n\t\t\t\t}\n      },\n      /**\n      * The Actual, Target, Forecast and design values to be displayed in the legend\n      *\n      * @property legendDispVal\n      [{\"actual\": 1302, \"target\": 1212, \"forecast\": 1222, \"design\": 1400}]\n      */\n\t\t\tlegendDispVal: {\n\t\t\t\ttype: Array,\n        value() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t* This property is an Array of tab data.\n\t\t\tMember of each tab data looks like this\n\t\t\t`{\"date\":\"2017-05-01T16:00:00.000Z\",\"actual\":\"11960\",\"target\":\"12950\",\"design\":\"13960\"}`\n      *\n      * @property data\n      */\n\t\t\tdata: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n      },\n\t\t\t/**\n\t\t\t* The Date range to filter the data. Format as specified in the px-rangepicker\n\t\t\tEg:\n\t\t\t`{\"from\":\"2017-04-03T03:37:25.000Z\",\"to\":\"2017-10-26T03:37:25.000Z\"}`\n      *\n      * @property dateRange\n      */\n      dateRange: {\n        type: Object,\n        value() {\n          return {};\n        }\n      },\n      filteredData: {\n        type: Array,\n        computed: '_filterDates(data, dateRange)'\n      },\n\t\t\tselected: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t},\n\n    _setLegend(data) {\n      let me = this;\n      data.forEach((_item, idx) => {\n        _item.legend = me.legendDispVal[idx];\n      });\n    },\n\n    attached() {\n      this.rangeParse = d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n      this._notifyAttached();\n    },\n\n    _notifyAttached() {\n      /**\n       * Event fired when the component is attached\n       *\n       * @event attached\n       */\n      this.fire('attached', {});\n    },\n\n    _isMultipleData(data) {\n      return data.length > 1;\n    },\n\n    _isSingleData(data) {\n      return data.length === 1;\n    },\n    _filterDates(data, dateRange) {\n      if(!data || !data.length || !dateRange) {\n        return data;\n      }\n      const d3 = Px.d3;\n      const from = this.rangeParse(dateRange.from);\n      const to = this.rangeParse(dateRange.to);\n      let filtered = [];\n      data.forEach((arr, idx)=> {\n        let _tmp = arr.filter((_obj) => {\n          if(!_obj.date) {\n            return false;\n          }\n          const date = _obj.date.getTime ? _obj.date : this.rangeParse(_obj.date);\n          return date.getTime() >= from.getTime() \n            && date.getTime() <= to.getTime();\n        });\n        _tmp.legend = this.legendDispVal[idx];\n        filtered.push(_tmp);\n      });\n      return filtered;\n    }\n  });\n})();\n"]}