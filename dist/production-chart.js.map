{"version":3,"sources":["production-chart.es6.js"],"names":["Polymer","is","listeners","properties","width","type","Number","value","height","actualDispVal","targetDispVal","designDispVal","unit","String","axisKeys","Array","data","ready","scopeSubtree","$","chart","attached","draw","d3","Px","me","margin","top","right","bottom","left","parseTime","timeParse","tooltipTimeFormat","timeFormat","tooltipTimeFormat2","x","scaleTime","range","y","scaleLinear","actualArea","area","d","date","targetChart","line","y1","svg","select","append","attr","forEach","key","domain","extent","nice","max","Math","actual","target","design","y0","toolTip","tip","offset","html","msg","call","datum","hideActual","style","selectAll","enter","i","on","show","hide","hideTarget","axisBottom","ticks","length","tickFormat","axisLeft","text","_toggleActual","querySelector","display","querySelectorAll","elt","_toggleTarget"],"mappings":"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","file":"production-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n\t\tis: 'production-chart', \n\t\t\n\t\tlisteners: {\n\t\t\t\"legend-actual.tap\": \"_toggleActual\",\n\t\t\t\"legend-target.tap\": \"_toggleTarget\"\n\t\t},\n\n    properties: {\n\t\t\twidth: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n\t\t\t},\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n\t\t\t},\n\t\t\tactualDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\ttargetDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tdesignDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tunit: {\n\t\t\t\ttype: String,\n\t\t\t\tvalue: \"Metric Ton/day\"\n\t\t\t},\n\t\t\taxisKeys: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t\"actual\", \"target\", \"design\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tready() {\n\t\t\tthis.scopeSubtree(this.$.chart, true);\n\t\t},\n\n\t\tattached() {\n\t\t\tthis.draw();\n\t\t},\n\t\t\n\t\tdraw() {\n\t\t\tlet d3 = Px.d3;\n\t\t\tlet me = this;\n\t\t\tlet data = this.data;\n\t\t\t// set the dimensions and margins of the graph\n\t\t\tlet margin = {top: 20, right: 20, bottom: 30, left: 50},\n\t\t\t\t\twidth = this.width - margin.left - margin.right,\n\t\t\t\t\theight = this.height - margin.top - margin.bottom;\n\t\t\t\n\t\t\t// parse the date / time\n\t\t\tlet parseTime = d3.timeParse(\"%d-%b-%y\");\n\n\t\t\tlet tooltipTimeFormat = d3.timeFormat(\"%A, %b %d\");\n\t\t\tlet tooltipTimeFormat2 = d3.timeFormat(\"%Y\");\n\t\t\t\n\t\t\t// set the ranges\n\t\t\tlet x = d3.scaleTime().range([0, width]);\n\t\t\tlet y = d3.scaleLinear().range([height, 0]);\n\t\t\t\n\t\t\tlet actualArea = d3.area()\n\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t.y(function(d) { return y(d[me.axisKeys[0]]); });\n\n\t\t\tlet targetChart = d3.line()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y(function(d) { return y(d[me.axisKeys[1]]); });\n\n\t\t\tlet area = d3.area()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y1(function(d) { return y(d[me.axisKeys[2]]); });\n\t\t\t\n\t\t\t// append the svg obgect to the body of the page\n\t\t\t// appends a 'group' element to 'svg'\n\t\t\t// moves the 'group' element to the top left margin\n\t\t\tlet svg = d3.select(this.$.chart).append(\"svg\")\n\t\t\t\t\t// .attr(\"width\", width + margin.left + margin.right)\n\t\t\t\t\t// .attr(\"height\", height + margin.top + margin.bottom)\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\t\t\t\"translate(\" + margin.left + \",\" + margin.top + \")\");\n\t\t\t// Get the data\n\t\t\tdata.forEach(function(d) {\n\t\t\t\td.date = parseTime(d.date);\n\t\t\t\tme.axisKeys.forEach((key)=>{\n\t\t\t\t\td[key] = +d[key];\n\t\t\t\t});\n\t\t\t});\n\t\t\n\t\t\t// Scale the range of the data\n\t\t\tx.domain(d3.extent(data, function(d) { return d.date; })).nice();\n\t\t\ty.domain([0, d3.max(data, function(d) {\n\t\t\t\treturn Math.max(d.actual, d.target, d.design); })]).nice();\n\t\t\t\n\t\t\tactualArea.y1(y(0));\n\t\t\tarea.y0(y(2));\n\n\t\t\tvar toolTip = d3.tip(d3.select(this.$.chart))\n\t\t\t\t.attr(\"class\", \"d3-tip\")\n\t\t\t\t.offset([-8, 0])\n\t\t\t\t.html(function(d) {\n\t\t\t\t\treturn d.msg;\n\t\t\t\t});\n\n    \tsvg.call(toolTip);\n\t\t\t\n\t\t\tsvg.append(\"path\")\n\t\t\t\t\t.datum(data)\n\t\t\t\t\t.attr(\"fill\", \"#eddd46\")\n\t\t\t\t\t.attr(\"d\", area);\n\t\t\n\t\t\tif(!this.hideActual) {\n\t\t\t\tsvg.append(\"path\")\n\t\t\t\t\t.datum(data)\n\t\t\t\t\t.attr(\"class\", \"actual-area\")\n\t\t\t\t\t.style(\"fill\", \"#88bde6\")\n\t\t\t\t\t.attr(\"d\", actualArea);\n\t\t\t\t\n\t\t\t\tsvg.selectAll(\".dot\")\n\t\t\t\t\t.data(data)\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t.attr(\"r\", 3)\n\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.actual))\n\t\t\t\t\t\t.attr(\"fill\", \"#88bde6\")\n\t\t\t\t\t\t.attr(\"class\", \"actual-circle\")\n\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', 5);\n\t\t\t\t\t\t\td.msg = tooltipTimeFormat(d.date) + \"<br>\" \n\t\t\t\t\t\t\t\t+ \"Actual of <b>\" + d.actual + \"</b><br>\" + \"produced in \"\n\t\t\t\t\t\t\t\t+ tooltipTimeFormat2(d.date);\n\t\t\t\t\t\t\ttoolTip.show(d);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', 3);\n\t\t\t\t\t\t\ttoolTip.hide(d);\n\t\t\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tif(!this.hideTarget) {\n\t\t\t\tsvg.append(\"path\")\n\t\t\t\t\t\t.data([data])\n\t\t\t\t\t\t.attr(\"class\", \"line\")\n\t\t\t\t\t\t.style(\"stroke\", \"red\")\n\t\t\t\t\t\t.attr(\"d\", targetChart);\n\n\t\t\t\tsvg.selectAll(\".dot\")\n\t\t\t\t\t.data(data)\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t.attr(\"r\", 3)\n\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.target))\n\t\t\t\t\t\t.attr(\"fill\", \"red\")\n\t\t\t\t\t\t.attr(\"class\", \"target-circle\")\n\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', 5);\n\t\t\t\t\t\t\td.msg = tooltipTimeFormat(d.date) + \"<br>\" \n\t\t\t\t\t\t\t\t+ \"Target of <b>\" + d.target + \"</b><br>\" + \"produced in \"\n\t\t\t\t\t\t\t\t+ tooltipTimeFormat2(d.date);\n\t\t\t\t\t\t\ttoolTip.show(d);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', 3);\n\t\t\t\t\t\t\ttoolTip.hide(d);\n\t\t\t\t\t\t});\t\n\t\t\t}\n\t\t\n\t\t\t// Add the X Axis\n\t\t\tsvg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(0,\" + height + \")\")\n\t\t\t\t\t.call(d3.axisBottom(x).ticks(data.length).tickFormat(d3.timeFormat('%b %d')));\n\t\t\n\t\t\t// Add the Y Axis\n\t\t\tsvg.append(\"g\")\n\t\t\t\t\t.call(d3.axisLeft(y).ticks(6));\n\n\t\t\tsvg.append(\"text\")\n\t\t\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t\t\t.attr(\"y\", 0 - margin.left)\n\t\t\t\t.attr(\"x\",0 - (height / 2))\n\t\t\t\t.attr(\"dy\", \"1em\")\n\t\t\t\t.attr(\"class\", \"yaxis-label\")\n\t\t\t\t.text(this.unit); \n\t\t},\n\t\t_toggleActual() {\n\t\t\tthis.hideActual = !this.hideActual;\n\t\t\tif(this.hideActual) {\n\t\t\t\tthis.querySelector(\".actual-area\").style.display = \"none\";\n\t\t\t\tthis.querySelectorAll(\".actual-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelector(\".actual-area\").style.display = \"block\";\n\t\t\t\tthis.querySelectorAll(\".actual-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_toggleTarget() {\n\t\t\tthis.hideTarget = !this.hideTarget;\n\t\t\tif(this.hideTarget) {\n\t\t\t\tthis.querySelector(\".line\").style.display = \"none\";\n\t\t\t\tthis.querySelectorAll(\".target-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelector(\".line\").style.display = \"block\";\n\t\t\t\tthis.querySelectorAll(\".target-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n  });\n})();\n"]}