{"version":3,"sources":["production-chart.es6.js"],"names":["Polymer","is","listeners","properties","width","type","Number","value","height","chartType","String","axisConfig","Object","actualDispVal","targetDispVal","designDispVal","forecastDispVal","actualLegendLabel","targetLegendLabel","forecastLegendLabel","designCapacityLegendLabel","hideActualLegend","Boolean","hideTargetLegend","hideForecastLegend","hideDesignCapacityLegend","legendLabels","Array","observer","unit","axisKeys","data","dateRange","notify","datePicker","margin","top","right","bottom","left","ready","scopeSubtree","$","chart","draw","_setDefaults","_massageData","_segregateData","_prepareChartingArea","_prepareAxes","_setLegendDefaults","_drawDesign","_drawActual","_drawForecast","_drawTarget","_drawAxes","_drawTimelineSeparators","_drawGridLines","fire","_toggleActual","hideActual","querySelector","style","display","querySelectorAll","forEach","elt","_toggleTarget","hideTarget","_toggleForecast","hideForecast","_redraw","newData","oldData","dom","node","innerHTML","_setLegendLabels","labels","length","set","_compute","prop","isDatePickerBased","isDateRangeBased","adjustedWidth","adjustedHeight","x","y","series","design","color","actual","target","forecast","actualCol","targetCol","forecastCol","designCol","dotRadius","inputTimeFormat","d3","Px","parseTime","timeParse","tooltipTimeFormat","timeFormat","tooltipTimeFormat2","d","date","getTime","key","actualData","designData","forecastData","targetData","_data","today","toFixed","todayActual","todayTarget","todayForecast","todayDesign","push","lastObj","Date","svg","select","append","attr","toolTip","tip","offset","html","msg","call","scaleTime","range","scaleLinear","clamp","yMax","max","Math","yMin","start","domain","extent","nice","timeDay","updateLegendVal","revertLegendValToToday","me","area","y1","designLine","line","yScaledMin","y0","dashArray","datum","selectAll","enter","i","on","targetChart","defaultDotRadius","show","hide","actualArea","actualLine","forecastLine","areaAboveForecastLine","areaBelowForecastLine","areaAboveActual","areaBelowActual","defs","_xAxis","axisBottom","tickTimeFormat","tickFormat","hideGrid","axisLeft","ticks","tickSize","_yAxis","format","text","historicalLabel","todayLabel","forecastLabel"],"mappings":"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","file":"production-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n\t\tis: 'production-chart',\n\n\t\tlisteners: {\n\t\t\t\"legend-actual.tap\": \"_toggleActual\",\n\t\t\t\"legend-target.tap\": \"_toggleTarget\",\n\t\t\t\"legend-forecast.tap\": \"_toggleForecast\"\n\t\t},\n\n    properties: {\n\t\t\twidth: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n\t\t\t},\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n\t\t\t},\n\t\t\tchartType: {\n\t\t\t\ttype: String,\n\t\t\t\tvalue: \"line\"\n\t\t\t},\n\t\t\taxisConfig: {\n\t\t\t\ttype: Object,\n\t\t\t\tvalue: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"x\": {\n\t\t\t\t\t\t\t\"tickFormat\": \"\",\n\t\t\t\t\t\t\t\"inputTimeFormat\": \"%Y-%m-%dT%H:%M:%S.%LZ\",\n\t\t\t\t\t\t\t\"tickTimeFormat\": \"%d %b %y\",\n              \"todayLabel\": \"Today\",\n              \"historicalLabel\": \"Historical\",\n              \"forecastLabel\": \"Forecast\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"y\": {\n\t\t\t\t\t\t\t\"tickFormat\": \".3s\",\n\t\t\t\t\t\t\t\"hideGrid\": true,\n\t\t\t\t\t\t\t\"dotRadius\": 0,\n\t\t\t\t\t\t\t\"start\": 0,\n\t\t\t\t\t\t\t\"series\": {\n\t\t\t\t\t\t\t\t\"design\": {\n\t\t\t\t\t\t\t\t\t\"color\": \"rgba(237, 221, 70, 0.7)\",\n                  \"dashArray\": \"2,2\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"actual\": {\n\t\t\t\t\t\t\t\t\t\"color\": \"#5fbcf8\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"target\": {\n\t\t\t\t\t\t\t\t\t\"color\": \"#f05c56\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"forecast\": {\n\t\t\t\t\t\t\t\t\t\"color\": \"rgba(164, 117, 237, 0.8)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\tactualDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\ttargetDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tdesignDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tforecastDispVal: {\n\t\t\t\ttype: Number\n\t\t\t},\n\t\t\tactualLegendLabel: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\ttargetLegendLabel: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\tforecastLegendLabel: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\tdesignCapacityLegendLabel: {\n\t\t\t\ttype: String\n\t\t\t},\n\t\t\thideActualLegend: {\n\t\t\t\ttype: Boolean,\n        value: false\n\t\t\t},\n\t\t\thideTargetLegend: {\n\t\t\t\ttype: Boolean,\n        value: false\n\t\t\t},\n\t\t\thideForecastLegend: {\n\t\t\t\ttype: Boolean,\n        value: false\n\t\t\t},\n\t\t\thideDesignCapacityLegend: {\n\t\t\t\ttype: Boolean,\n        value: false\n\t\t\t},\n\t\t\tlegendLabels: {\n\t\t\t\ttype: Array,\n        value() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t\tobserver: '_setLegendLabels'\n      },\n\t\t\tunit: {\n\t\t\t\ttype: String,\n\t\t\t\tvalue: \"Metric Ton/day\"\n\t\t\t},\n\t\t\taxisKeys: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t\"actual\", \"target\", \"forecast\", \"design\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n\t\t\t},\n\t\t\tdateRange: {\n\t\t\t\ttype: Object,\n\t\t\t\tnotify: true,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdatePicker: {\n\t\t\t\ttype: String,\n\t\t\t\tvalue: \"\"\n\t\t\t},\n\t\t\tmargin: {\n\t\t\t\ttype: Object,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {top: 20, right: 20, bottom: 30, left: 50};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tready() {\n\t\t\tthis.scopeSubtree(this.$.chart, true);\n\t\t},\n\n\t\tdraw() {\n\t\t\tthis._setDefaults();\n\t\t\tlet data = this._massageData(this.data);\n\t\t\tthis._segregateData(data);\n\t\t\tthis._prepareChartingArea();\n\t\t\tthis._prepareAxes(data);\n\t\t\tthis._setLegendDefaults();\n\t\t\tthis._drawDesign(data);\n\t\t\tthis._drawActual(data);\n\t\t\tthis._drawForecast(data);\n\t\t\tthis._drawTarget(data);\n\t\t\tthis._drawAxes(data);\n\t\t\tthis._drawTimelineSeparators(data);\n\t\t\tthis._drawGridLines(data);\n\n      this.fire(\"chart-drawn\", {});\n\t\t},\n\t\t_toggleActual() {\n\t\t\tthis.hideActual = !this.hideActual;\n\t\t\tif(this.hideActual) {\n\t\t\t\tthis.querySelector(\".actual-area\").style.display = \"none\";\n\t\t\t\tthis.querySelectorAll(\".actual-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelector(\".actual-area\").style.display = \"block\";\n\t\t\t\tthis.querySelectorAll(\".actual-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_toggleTarget() {\n\t\t\tthis.hideTarget = !this.hideTarget;\n\t\t\tif(this.hideTarget) {\n\t\t\t\tthis.querySelector(\".target-line\").style.display = \"none\";\n\t\t\t\tthis.querySelectorAll(\".target-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelector(\".target-line\").style.display = \"block\";\n\t\t\t\tthis.querySelectorAll(\".target-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_toggleForecast() {\n\t\t\tthis.hideForecast = !this.hideForecast;\n\t\t\tif(this.hideForecast) {\n\t\t\t\tthis.querySelector(\".forecast-line\").style.display = \"none\";\n\t\t\t\tthis.querySelectorAll(\".forecast-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n        this.querySelectorAll(\".forecast-area\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelector(\".forecast-line\").style.display = \"block\";\n\t\t\t\tthis.querySelectorAll(\".forecast-circle\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t\tthis.querySelectorAll(\".forecast-area\").forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_redraw(newData, oldData) {\n\t\t\tPolymer.dom(this.$.chart).node.innerHTML = \"\";\n\t\t\tthis.draw();\n\t\t},\n\t\t_setLegendLabels(labels) {\n\t\t\tif(labels && labels.length) {\n\t\t\t\tthis.set(\"actualLegendLabel\", labels[0]);\n\t\t\t\tthis.set(\"targetLegendLabel\", labels[1]);\n\t\t\t\tthis.set(\"forecastLegendLabel\", labels[2]);\n\t\t\t\tthis.set(\"designCapacityLegendLabel\", labels[3]);\n\t\t\t}\n\t\t},\n    _compute(prop) {\n      return prop;\n\t\t},\n\t\t\n\t\tisDatePickerBased(datePicker) {\n\t\t\treturn datePicker ? true : false;\n\t\t},\n\n\t\tisDateRangeBased(datePicker) {\n\t\t\treturn datePicker ? false : true;\n\t\t},\n\n\t\t_setDefaults() {\n\t\t\t// set the dimensions and margins of the graph\n\t\t\tthis.margin = this.margin || {top: 20, right: 20, bottom: 30, left: 50},\n\t\t\tthis.adjustedWidth = this.width - this.margin.left - this.margin.right,\n\t\t\tthis.adjustedHeight = this.height - this.margin.top - this.margin.bottom;\n\n\t\t\tthis.axisConfig = this.axisConfig || {};\n\t\t\tthis.axisConfig.x = this.axisConfig.x || {};\n\t\t\tthis.axisConfig.y = this.axisConfig.y || {};\n\t\t\tthis.axisConfig.y.series = this.axisConfig.y.series || {};\n\t\t\tthis.axisConfig.y.series.design = this.axisConfig.y.series.design || {};\n\t\t\tthis.axisConfig.y.series.design.color = this.axisConfig.y.series.design.color || \"rgba(237, 221, 70, 0.7)\";\n\t\t\tthis.axisConfig.y.series.actual = this.axisConfig.y.series.actual || {};\n\t\t\tthis.axisConfig.y.series.actual.color = this.axisConfig.y.series.actual.color || \"#5fbcf8\";\n\t\t\tthis.axisConfig.y.series.target = this.axisConfig.y.series.target || {};\n\t\t\tthis.axisConfig.y.series.target.color = this.axisConfig.y.series.target.color || \"#f05c56\";\n\t\t\tthis.axisConfig.y.series.forecast = this.axisConfig.y.series.forecast || {};\n\t\t\tthis.axisConfig.y.series.forecast.color = this.axisConfig.y.series.forecast.color || \"rgba(164, 117, 237, 0.8)\";\n\n\t\t\tthis.actualCol = this.axisConfig.y.series.actual.color;\n\t\t\tthis.targetCol = this.axisConfig.y.series.target.color;\n\t\t\tthis.forecastCol = this.axisConfig.y.series.forecast.color;\n\t\t\tthis.designCol = this.axisConfig.y.series.design.color;\n\n\t\t\tthis.chartType = this.chartType || \"line\";\n\n\t\t\tif(!this.axisConfig.y.dotRadius) {\n\t\t\t\tif(this.axisConfig.y.dotRadius != 0) {\n\t\t\t\t\tthis.axisConfig.y.dotRadius = 2;\n\t\t\t\t} else {\n\t\t\t\t\tthis.axisConfig.y.dotRadius = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.axisConfig.y.dotRadius = +this.axisConfig.y.dotRadius;\n\n\t\t\t// parse the date / time\n\t\t\tthis.axisConfig.x.inputTimeFormat = this.axisConfig.x.inputTimeFormat ?\n\t\t\t\tthis.axisConfig.x.inputTimeFormat : \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\n\t\t\tlet d3 = Px.d3;\n\t\t\tthis.parseTime = d3.timeParse(this.axisConfig.x.inputTimeFormat);\n\t\t\tthis.tooltipTimeFormat = d3.timeFormat(\"%A, %b %d\");\n\t\t\tthis.tooltipTimeFormat2 = d3.timeFormat(\"%Y\");\n\t\t},\n\n\t\t_massageData(data) {\n\t\t\tdata.forEach((d) => {\n\t\t\t\td.date = d.date.getTime ? d.date : this.parseTime(d.date);\n\t\t\t\tthis.axisKeys.forEach((key)=>{\n\t\t\t\t\td[key] = d[key] ? (+d[key]) : 0;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn data;\n\t\t},\n\n\t\t_segregateData(data) {\n\t\t\tthis.actualData = []; this.designData = []; this.forecastData = []; this.targetData = [];\n\t\t\tdata.forEach((_data) => {\n\t\t\t\tif(_data.actual == _data.forecast) {\n\t\t\t\t\tthis.today = _data.date;\n\t\t\t\t\tthis.designDispVal = _data.design.toFixed(0);\n\t\t\t\t\tthis.actualDispVal = _data.actual.toFixed(0);\n\t\t\t\t\tthis.targetDispVal = _data.target.toFixed(0);\n\t\t\t\t\tthis.forecastDispVal = _data.forecast.toFixed(0);\n\t\t\t\t\tthis.todayActual = this.actualDispVal;\n\t\t\t\t\tthis.todayTarget = this.targetDispVal;\n\t\t\t\t\tthis.todayForecast = this.forecastDispVal;\n\t\t\t\t\tthis.todayDesign = this.designDispVal;\n\t\t\t\t}\n\t\t\t\tif(_data.actual > 0) {this.actualData.push(_data)}\n\t\t\t\tif(_data.target > 0) {this.targetData.push(_data)}\n\t\t\t\tif(_data.forecast > 0) {this.forecastData.push(_data)}\n\t\t\t\tif(_data.design > 0) {this.designData.push(_data)}\n\t\t\t});\n\t\t\tif(!this.todayActual && !this.todayTarget && !this.todayForecast && !this.todayDesign) {\n\t\t\t\tlet lastObj = data[data.length-1]\n\t\t\t\tthis.todayActual = lastObj.actualDispVal ? lastObj.actualDispVal.toFixed(0) : \"\";\n\t\t\t\tthis.todayTarget = lastObj.targetDispVal ? lastObj.targetDispVal.toFixed(0) : \"\";\n\t\t\t\tthis.todayForecast = lastObj.forecastDispVal ? lastObj.targetDispVal.toFixed(0) : \"\";\n\t\t\t\tthis.todayDesign = lastObj.designDispVal ? lastObj.targetDispVal.toFixed(0) : \"\";\n\t\t\t}\n\n\t\t\tif(!this.today) {\n\t\t\t\tthis.today = new Date();\n\t\t\t}\n\t\t},\n\n\t\t_prepareChartingArea() {\n\t\t\tlet d3 = Px.d3;\n\t\t\tthis.svg = d3.select(this.$.chart).append(\"svg\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\t\t\t\"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\t\t\t\n\t\t\tthis.toolTip = d3.tip(d3.select(this.$.chart))\n\t\t\t\t.attr(\"class\", \"d3-tip\")\n\t\t\t\t.offset([-8, 0])\n\t\t\t\t.html(function(d) {\n\t\t\t\t\treturn d.msg;\n\t\t\t\t});\n\n\t\t\tthis.svg.call(this.toolTip);\n\t\t},\n\t\t_prepareAxes(data) {\n\t\t\tlet d3 = Px.d3;\n\t\t\tthis.x = d3.scaleTime().range([0, this.adjustedWidth]);\n\t\t\tthis.y = d3.scaleLinear().range([this.adjustedHeight, 0]).clamp(true);\n\t\t\tlet yMax = d3.max(data, function(d) {\n\t\t\t\treturn Math.max(d.actual, d.target, d.forecast, d.design); });\n\t\t\tlet yMin = this.axisConfig.y.start;\n\t\t\tif(!yMin) {\n\t\t\t\tif(yMin != 0) {\n\t\t\t\t\tyMin = yMax/2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tyMin = +yMin;\n\n\t\t\tthis.x.domain(d3.extent(data, function(d) { return d.date; })).nice(d3.timeDay);\n\t\t\tthis.y.domain([yMin, yMax]).nice(6);\n\t\t},\n\t\t_setLegendDefaults() {\n\t\t\tthis.set(\"hideActualLegend\", this.actualData.length === 0);\n\t\t\tthis.set(\"hideTargetLegend\", this.targetData.length === 0);\n\t\t\tthis.set(\"hideForecastLegend\", this.forecastData.length === 0);\n\t\t\tthis.set(\"hideDesignCapacityLegend\", this.designData.length === 0);\n\n\t\t\tthis.updateLegendVal = (d) => {\n\t\t\t\tthis.actualDispVal = d.actual.toFixed(0);\n\t\t\t\tthis.targetDispVal = d.target.toFixed(0);\n\t\t\t\tthis.forecastDispVal = d.forecast.toFixed(0);\n\t\t\t\tthis.designDispVal = d.design.toFixed(0);\n\t\t\t};\n\n\t\t\tthis.revertLegendValToToday = () => {\n\t\t\t\tthis.actualDispVal = this.todayActual;\n\t\t\t\tthis.targetDispVal = this.todayTarget;\n\t\t\t\tthis.forecastDispVal = this.todayForecast;\n\t\t\t\tthis.designDispVal = this.todayDesign;\n\t\t\t};\n\t\t},\n\t\t_drawDesign(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\n\t\t\tif(this.designData.length) {\n\t\t\t\tlet area = d3.area()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y1(function(d) { return y(d[me.axisKeys[3]]); });\n\t\n\t\t\t\tlet designLine = d3.line()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y(function(d) { return y(d[me.axisKeys[3]]); });\n\t\t\t\t\n\t\t\t\tlet yScaledMin = y(y.domain()[0]);\n\t\t\t\tarea.y0(yScaledMin);\n\n\t\t\t\tif(this.chartType === \"line\") {\n\t\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.data([this.designData])\n\t\t\t\t\t\t.attr(\"class\", \"design-line\")\n\t\t\t\t\t\t.style(\"stroke\", this.axisConfig.y.series.design.color)\n\t\t\t\t\t\t.style(\"stroke-dasharray\", this.axisConfig.y.series.design.dashArray || \"0,0\")\n\t\t\t\t\t\t.style(\"fill\", \"transparent\")\n\t\t\t\t\t\t.attr(\"d\", designLine)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.datum(this.designData)\n\t\t\t\t\t\t.attr(\"fill\", this.axisConfig.y.series.design.color)\n\t\t\t\t\t\t.attr(\"d\", area)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\t\t\t\t}\n\n\t\t\t\tthis.svg.selectAll(\".dot\")\n\t\t\t\t\t\t.data(this.designData)\n\t\t\t\t\t\t.enter()\n\t\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t\t.attr(\"r\", 0)\n\t\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.design))\n\t\t\t\t\t\t\t.attr(\"fill\", \"transparent\")\n\t\t\t\t\t\t\t.attr(\"class\", \"design-circle\")\n\t\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\t\tthis.updateLegendVal(d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\t\tthis.revertLegendValToToday();\n\t\t\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_drawTarget(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t\tlet targetChart = d3.line()\n\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t.y(function(d) { return y(d[me.axisKeys[1]]); });\n\t\t\t\n\t\t\tif(!this.hideTarget && this.targetData.length) {\n\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.data([this.targetData])\n\t\t\t\t\t\t.attr(\"class\", \"target-line\")\n\t\t\t\t\t\t.style(\"stroke\", this.axisConfig.y.series.target.color)\n\t\t\t\t\t\t.style(\"stroke-dasharray\", this.axisConfig.y.series.target.dashArray || \"0,0\")\n\t\t\t\t\t\t.attr(\"d\", targetChart)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\n\t\t\t\tthis.svg.selectAll(\".dot\")\n\t\t\t\t\t.data(this.targetData)\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t.attr(\"r\", this.defaultDotRadius)\n\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.target))\n\t\t\t\t\t\t.attr(\"fill\", this.axisConfig.y.series.target.color)\n\t\t\t\t\t\t.attr(\"class\", \"target-circle\")\n\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius + 3);\n\t\t\t\t\t\t\td.msg = this.tooltipTimeFormat(d.date) + \"<br>\"\n\t\t\t\t\t\t\t\t+ \"Target of <b>\" + d.target + \"</b><br>\" + \"produced in \"\n\t\t\t\t\t\t\t\t+ this.tooltipTimeFormat2(d.date);\n\t\t\t\t\t\t\tthis.updateLegendVal(d);\n\t\t\t\t\t\t\tthis.toolTip.show(d);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius);\n\t\t\t\t\t\t\tthis.revertLegendValToToday();\n\t\t\t\t\t\t\tthis.toolTip.hide(d);\n\t\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_drawActual(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t\tthis.actualArea = d3.area()\n\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t.y(function(d) { return y(d[me.axisKeys[0]]); });\n\t\t\tif(!this.hideActual && this.actualData.length) {\n\t\t\t\tlet yScaledMin = y(y.domain()[0]);\n\t\t\t\tlet actualLine = d3.line()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y(function(d) { return y(d[me.axisKeys[0]]); });\n\t\n\t\t\t\tthis.actualArea.y1(yScaledMin);\n\t\t\t\tif(this.chartType === \"line\") {\n\t\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.data([this.actualData])\n\t\t\t\t\t\t.attr(\"class\", \"actual-area actual-line\")\n\t\t\t\t\t\t.style(\"stroke\", this.axisConfig.y.series.actual.color)\n\t\t\t\t\t\t.style(\"stroke-dasharray\", this.axisConfig.y.series.actual.dashArray || \"0,0\")\n\t\t\t\t\t\t.style(\"fill\", \"transparent\")\n\t\t\t\t\t\t.attr(\"d\", actualLine)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.datum(this.actualData)\n\t\t\t\t\t\t.attr(\"class\", \"actual-area\")\n\t\t\t\t\t\t.style(\"fill\", this.axisConfig.y.series.actual.color)\n\t\t\t\t\t\t.attr(\"d\", this.actualArea)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\t\t\t\t}\n\n\t\t\t\tthis.svg.selectAll(\".dot\")\n\t\t\t\t\t.data(this.actualData)\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t.attr(\"r\", this.defaultDotRadius)\n\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.actual))\n\t\t\t\t\t\t.attr(\"fill\", this.axisConfig.y.series.actual.color)\n\t\t\t\t\t\t.attr(\"class\", \"actual-circle\")\n\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius + 3);\n\t\t\t\t\t\t\td.msg = this.tooltipTimeFormat(d.date) + \"<br>\"\n\t\t\t\t\t\t\t\t+ \"Actual of <b>\" + d.actual + \"</b><br>\" + \"produced in \"\n\t\t\t\t\t\t\t\t+ this.tooltipTimeFormat2(d.date);\n\t\t\t\t\t\t\tthis.updateLegendVal(d);\n\t\t\t\t\t\t\tthis.toolTip.show(d);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius);\n\t\t\t\t\t\t\tthis.revertLegendValToToday();\n\t\t\t\t\t\t\tthis.toolTip.hide(d);\n\t\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_drawForecast(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t\tlet forecastLine = d3.line()\n\t\t\t\t\t.x(function(d) { return x(d.date); })\n\t\t\t\t\t.y(function(d) { return y(d[me.axisKeys[2]]); });\n\n\t\t\tif(!this.hideForecast && this.forecastData.length > 0) {\n\t\t\t\tlet yScaledMin = y(y.domain()[0]);\n\t\t\t\tif(this.chartType !== \"line\") {\n\t\t\t\t\tlet areaAboveForecastLine = d3.area()\n\t\t\t\t\t\t.x(forecastLine.x())\n\t\t\t\t\t\t.y0(forecastLine.y())\n\t\t\t\t\t\t.y1(yScaledMin);\n\t\t\t\t\tlet areaBelowForecastLine = d3.area()\n\t\t\t\t\t\t.x(forecastLine.x())\n\t\t\t\t\t\t.y0(forecastLine.y())\n\t\t\t\t\t\t.y1(this.actualArea.y());\n\t\t\t\t\tlet areaAboveActual = d3.area()\n\t\t\t\t\t\t.x(this.actualArea.x())\n\t\t\t\t\t\t.y0(this.actualArea.y())\n\t\t\t\t\t\t.y1(yScaledMin);\n\t\t\t\t\tlet areaBelowActual = d3.area()\n\t\t\t\t\t\t.x(this.actualArea.x())\n\t\t\t\t\t\t.y0(this.actualArea.y())\n\t\t\t\t\t\t.y1(forecastLine.y());\n\t\t\t\t\tlet defs = this.svg.append('defs');\n\n\t\t\t\t\tdefs.append('clipPath')\n\t\t\t\t\t\t.attr('id', 'clip-forecast')\n\t\t\t\t\t\t.append('path')\n\t\t\t\t\t\t.datum(this.forecastData)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-area forecast-positive\")\n\t\t\t\t\t\t.attr('d', areaAboveForecastLine)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\n\t\t\t\t\tdefs.append('clipPath')\n\t\t\t\t\t\t.attr('id', 'clip-actual')\n\t\t\t\t\t\t.append('path')\n\t\t\t\t\t\t.datum(this.forecastData)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-area forecast-negative\")\n\t\t\t\t\t\t.attr('d', areaAboveActual)\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\n\t\t\t\t\tthis.svg.append('path')\n\t\t\t\t\t\t.datum(this.forecastData)\n\t\t\t\t\t\t.attr('d', areaBelowForecastLine)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-area forecast-negative\")\n\t\t\t\t\t\t.attr('clip-path', 'url(#clip-actual)')\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\n\t\t\t\t\tthis.\tsvg.append('path')\n\t\t\t\t\t\t.datum(this.forecastData)\n\t\t\t\t\t\t.attr('d', areaBelowActual)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-area forecast-positive\")\n\t\t\t\t\t\t.attr('clip-path', 'url(#clip-forecast)')\n\t\t\t\t\t\t.style(\"pointer-events\", \"none\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.svg.append(\"path\")\n\t\t\t\t\t\t.datum(this.forecastData)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-line\")\n\t\t\t\t\t\t.style(\"stroke-dasharray\", this.axisConfig.y.series.forecast.dashArray || \"0,0\")\n\t\t\t\t\t\t.attr(\"d\", forecastLine);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.svg.selectAll(\".dot\")\n\t\t\t\t\t.data(this.forecastData)\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t\t.attr(\"r\", this.defaultDotRadius)\n\t\t\t\t\t\t.attr(\"cx\", (d, i) => x(d.date))\n\t\t\t\t\t\t.attr(\"cy\", (d) => y(d.forecast))\n\t\t\t\t\t\t.attr(\"fill\", this.axisConfig.y.series.forecast.color)\n\t\t\t\t\t\t.attr(\"class\", \"forecast-circle\")\n\t\t\t\t\t\t.on('mouseover', function(d, i) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius + 3);\n\t\t\t\t\t\t\td.msg = this.tooltipTimeFormat(d.date) + \"<br>\"\n\t\t\t\t\t\t\t\t+ \"Forecast of <b>\" + d.forecast + \"</b><br>\" + \"produced in \"\n\t\t\t\t\t\t\t\t+ this.tooltipTimeFormat2(d.date);\n\t\t\t\t\t\t\tthis.updateLegendVal(d);\n\t\t\t\t\t\t\tthis.toolTip.show(d);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('mouseout', function(d) {\n\t\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t\t.attr('r', this.defaultDotRadius);\n\t\t\t\t\t\t\tthis.revertLegendValToToday();\n\t\t\t\t\t\t\tthis.toolTip.hide(d);\n\t\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_drawAxes(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t\t// Add the X Axis\n\t\t\tlet _xAxis = d3.axisBottom(x);\n\t\t\tif(this.axisConfig.x.tickTimeFormat) {\n\t\t\t\t_xAxis.tickFormat(d3.timeFormat(\n\t\t\t\t\tthis.axisConfig.x.tickTimeFormat || \"%d %b %y\"));\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n\t\t\t\t\t.attr(\"class\", \"x-axis\")\n\t\t\t\t\t.call(_xAxis);\n\n\t\t\tif(!this.axisConfig.y.hideGrid) {\n\t\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y-grid\")\n\t\t\t\t\t.call(d3.axisLeft(y)\n\t\t\t\t\t\t\t.ticks(5)\n\t\t\t\t\t\t\t.tickSize(-this.adjustedWidth)\n\t\t\t\t\t\t\t.tickFormat(\"\"));\n\t\t\t}\n\n\t\t\t// Add the Y Axis\n\t\t\tlet _yAxis = d3.axisLeft(y).ticks(6);\n\t\t\tif(this.axisConfig.y.tickFormat) {\n\t\t\t\t_yAxis.tickFormat(d3.format(this.axisConfig.y.tickFormat));\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y-axis\")\n\t\t\t\t\t.call(_yAxis);\n\n\t\t\tthis.svg.append(\"text\")\n\t\t\t\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t\t\t\t.attr(\"y\", 0 - this.margin.left)\n\t\t\t\t\t.attr(\"x\",0 - (this.adjustedHeight / 2))\n\t\t\t\t\t.attr(\"dy\", \"1em\")\n\t\t\t\t\t.attr(\"class\", \"yaxis-label\")\n\t\t\t\t\t.text(this.unit);\n\t\t},\n\t\t_drawTimelineSeparators(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t\tthis.svg.append(\"svg:line\")\n\t\t\t\t.attr(\"class\", \"today\")\n\t\t\t\t.attr(\"x1\", x(this.today))\n\t\t\t\t.attr(\"y1\", this.adjustedHeight+18)\n\t\t\t\t.attr(\"x2\", x(this.today))\n\t\t\t\t.attr(\"y2\", -7);\n\n\t\t\tthis.svg.append(\"text\")\n\t\t\t\t.attr(\"class\", \"today-text\")\n\t\t\t\t.attr(\"x\", (x(x.domain()[0]) + x(this.today))/2)\n\t\t\t\t.attr(\"y\", -9)\n\t\t\t\t.text(this.axisConfig.x.historicalLabel || \"Historical\");\n\n\t\t\tthis.svg.append(\"text\")\n\t\t\t\t.attr(\"class\", \"today-text\")\n\t\t\t\t.attr(\"x\", x(this.today)-10)\n\t\t\t\t.attr(\"y\", -9)\n\t\t\t\t.text(this.axisConfig.x.todayLabel || \"Today\");\n\n\t\t\tif(!this.hideForecast && this.forecastData.length > 0) {\n\t\t\t\tthis.svg.append(\"text\")\n\t\t\t\t\t.attr(\"class\", \"today-text\")\n\t\t\t\t\t.attr(\"x\", (x(x.domain()[1]) * 0.8))\n\t\t\t\t\t.attr(\"y\", -9)\n\t\t\t\t\t.text(this.axisConfig.x.forecastLabel || \"Forecast\");\n\t\t\t}\n\n\t\t},\n\t\t_drawGridLines(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n\t\t}\n  });\n})();\n"]}